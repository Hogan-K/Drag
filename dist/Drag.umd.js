(function(s,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(s=typeof globalThis<"u"?globalThis:s||self,s.Drag=e())})(this,function(){"use strict";function s(e){const Y=e.trigger_el??e.main_el,t=e.main_el;t.style.willChange="transform",t.style.touchAction="none",t.style.userSelect="none";let _=0,w=0,o=0,r=0,p=0,f=0,y=0,g=0,v=0,x=0;const l={clientX:0,clientY:0};let h=!1,d=null,a=!1,n=null;const E=()=>{t.style.transform=`translate3d(${o}px, ${r}px, 0)`},L=()=>{o<p&&(o=p),r<f&&(r=f),o>y&&(o=y),r>g&&(r=g)},X=c=>{v=c.clientX,x=c.clientY,a||(a=!0,d=requestAnimationFrame(()=>{a=!1;const i=v-l.clientX,m=x-l.clientY;l.clientX=v,l.clientY=x,o+=i,r+=m,L(),E()}))},b=c=>{var m;const i=t.getBoundingClientRect();_=i.width,w=i.height,o=i.x,r=i.y,n||(n={x:i.x,y:i.y},p=(e.left_boundary??0)-n.x,f=(e.top_boundary??0)-n.y,y=(e.right_boundary??window.innerWidth)-_-n.x,g=(e.bottom_boundary??window.innerHeight)-w-n.y),l.clientX=c.clientX+n.x,l.clientY=c.clientY+n.y,h=!0,(m=t.setPointerCapture)==null||m.call(t,c.pointerId),document.addEventListener("pointermove",X,{passive:!0}),document.addEventListener("pointerup",u),document.addEventListener("pointercancel",u)},u=()=>{h&&(h=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",u),document.removeEventListener("pointercancel",u),d&&(cancelAnimationFrame(d),d=null,a=!1))};Y.addEventListener("pointerdown",b)}return s});
